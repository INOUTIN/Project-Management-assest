# é¡¹ç›®ç®¡ç†å·¥å…· (Project Management Tool Â· Supabase Edition)

ä¸€ä¸ªè½»é‡åŒ–çš„ä¼ä¸šå†…éƒ¨é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œæä¾›é¡¹ç›®ç»Ÿè®¡ã€ä»»åŠ¡ç®¡ç†ã€è¿›åº¦è·Ÿè¸ªç­‰åŠŸèƒ½ï¼›åœ¨åŸæœ‰ **ä»ªè¡¨ç›˜ / é¡¹ç›®ç®¡ç† /ï¼ˆè§„åˆ’ä¸­çš„ï¼‰ç”˜ç‰¹å›¾** åŸºç¡€ä¸Šï¼Œæ–°å¢ **Supabaseï¼ˆPostgres + Auth + Realtimeï¼‰** çš„æ¥å…¥è¯´æ˜ä¸ç¯å¢ƒå˜é‡è§„èŒƒã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§
- **ä»ªè¡¨ç›˜**ï¼šé¡¹ç›®/ä»»åŠ¡ç»Ÿè®¡ã€å®Œæˆç‡åˆ†æã€è¶…æœŸæé†’ã€é¡¹ç›®å¡ç‰‡ã€‚  
- **é¡¹ç›®ç®¡ç†**ï¼šåˆ—è¡¨/ç¼–è¾‘/æ–°å»ºé¡¹ç›®ä¸ä»»åŠ¡ã€çŠ¶æ€è·Ÿè¸ªã€‚  
- **ç”˜ç‰¹å›¾ï¼ˆè§„åˆ’ä¸­ï¼‰**ï¼šæ—¶é—´è½´ã€ä¾èµ–å…³ç³»ã€è¿›åº¦è§†å›¾ã€‚

> æœ¬ README æ–°å¢ï¼šç¯å¢ƒå˜é‡æ¨¡æ¿ã€Supabase åˆå§‹åŒ–è„šæœ¬ä½ç½®ã€RLS ç­–ç•¥ç¤ºä¾‹ã€éƒ¨ç½²ä¸å®‰å…¨æ¸…å•ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js â‰¥ 16ï¼ˆæ¨è 18+ï¼‰  
- npm â‰¥ 8 æˆ– yarn â‰¥ 1.22

### 1) è·å–ä»£ç 
```bash
git clone <repository-url>
cd project-management-tool
```

### 2) å®‰è£…ä¾èµ–
```bash
npm install
```

### 3) é…ç½®ç¯å¢ƒå˜é‡ï¼ˆé‡è¦ï¼‰
åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å¢æˆ–ç¡®è®¤å­˜åœ¨ `.env.example`ï¼ˆå·²æäº¤åˆ°ä»“åº“ï¼‰å¹¶åœ¨æœ¬åœ°åˆ›å»º **`.env.development`** / **`.env.production`**ï¼š
```dotenv
# ---- Supabase ----
VITE_SUPABASE_URL=YOUR_SUPABASE_URL_HERE
VITE_SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY_HERE
```
> `.env*` æ–‡ä»¶å·²é€šè¿‡ `.gitignore` å¿½ç•¥ï¼Œé¿å…æŠŠå¯†é’¥æ¨åˆ°ä»“åº“ï¼›ä»… `.env.example` ä¼šè¢«æäº¤ç”¨äºæç¤ºåŒäº‹å¦‚ä½•é…ç½®ã€‚

### 4) åˆå§‹åŒ– Supabase
1. åœ¨ Supabase æ§åˆ¶å°æ–°å»ºé¡¹ç›®ï¼Œæ‹¿åˆ° **Project URL** ä¸ **anon key**ï¼›  
2. æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ– SQLï¼ˆå»ºè®®æ”¾åœ¨ `docs/db/schema.sql`ï¼Œå¹¶åœ¨ä»“åº“ä¸­é™„ä¸Šï¼‰ï¼š  
   - `projects / tasks / task_history` ç­‰è¡¨ç»“æ„  
   - ç´¢å¼•ï¼ˆå¦‚ `idx_tasks_project`ã€`idx_tasks_assignee`ï¼‰  
3. å¼€å¯ **Row Level Security (RLS)** å¹¶æ·»åŠ ç­–ç•¥ï¼ˆæœ€å°å¯ç”¨ç¤ºä¾‹ï¼‰ï¼š  
   - é¡¹ç›®ä»… owner å¯è¯»å†™ï¼›  
   - ä»»åŠ¡ç”±åˆ›å»ºè€…/æŒ‡æ´¾äºº/é¡¹ç›® owner è¯»å†™ï¼›  
   - å†å²è¡¨åªè¯»ï¼›  
4.ï¼ˆå¯é€‰ï¼‰åˆ›å»ºè§¦å‘å™¨ï¼šåœ¨ `tasks` çš„ INSERT/UPDATE/DELETE æ—¶å†™å…¥ `task_history`ã€‚

> ä»¥ä¸Š SQL ä¸ç­–ç•¥å»ºè®®éšä»£ç ä¸€å¹¶æä¾›ï¼Œå›¢é˜Ÿå¯ç›´æ¥å¤åˆ¶åˆ° Supabase SQL Editor æ‰§è¡Œã€‚

### 5) å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
# æµè§ˆå™¨è®¿é—® http://localhost:5173
```

### 6) æ„å»ºä¸æœ¬åœ°é¢„è§ˆ
```bash
npm run build
npm run preview
```

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„
- **å‰ç«¯**ï¼šVue 3ï¼ˆComposition APIï¼‰+ Vite + Element Plus + Pinia + Vue Router + SCSS + Day.js  
- **è§„èŒƒ**ï¼šESLint + Prettier  

### ç›®å½•ç»“æ„
```
src/
â”œâ”€â”€ core/                    # æ ¸å¿ƒç³»ç»Ÿå±‚ï¼ˆé…ç½®/è·¯ç”±/çŠ¶æ€/æ’ä»¶ï¼‰
â”œâ”€â”€ shared/                  # å…±äº«èµ„æºå±‚ï¼ˆservices/utils/components/composablesï¼‰
â”œâ”€â”€ features/                # åŠŸèƒ½æ¨¡å—ï¼ˆdashboard / project-management / gantt-chartï¼‰
â””â”€â”€ plugins/                 # æ’ä»¶ç³»ç»Ÿ
```

---

## ğŸ”Œ ä¸åç«¯çš„å¯¹æ¥ï¼ˆSupabaseï¼‰
### è¯»å–/å†™å…¥
åœ¨å‰ç«¯é€šè¿‡ `@supabase/supabase-js` è°ƒç”¨ï¼š
- `supabase.from('projects').select()/insert()/update()/delete()`  
- `supabase.from('tasks')...`  
- é€šè¿‡ Realtime è®¢é˜… `tasks` è¡¨å˜åŒ–ï¼Œé©±åŠ¨ UI è‡ªåŠ¨åˆ·æ–°ã€‚

### é‰´æƒ
- æ¨èå…ˆç”¨ Magic Linkï¼ˆé‚®ä»¶ç™»å½•ï¼‰ï¼Œåç»­å†æ‰©å±• SSO/åŸŸåç™½åå•ï¼›  
- ç»„ä»¶å±‚é€šè¿‡ `getSession()/onAuthStateChange` æ§åˆ¶è®¿é—®ã€‚

### æƒé™ï¼ˆRLSï¼‰ä¸å›¢é˜Ÿåä½œ
- åˆæœŸï¼šowner æƒé™æˆ–â€œç™»å½•å³è¯»å†™ï¼ˆé™å†…éƒ¨ï¼‰â€ï¼›  
- éœ€è¦å¤šäººå…±äº«ï¼šæ–°å¢ `project_members(project_id, user_id, role)`ï¼Œåœ¨ RLS ä¸­ä»¥æˆå‘˜è¡¨åˆ¤æ–­å¯è§ä¸å¯å†™ã€‚

---

## ğŸ“¦ å¸¸ç”¨å‘½ä»¤
```bash
# å¼€å‘
npm run dev
# æ„å»º
npm run build
# é¢„è§ˆ
npm run preview
# ä»£ç æ£€æŸ¥/æ ¼å¼åŒ–/ç±»å‹æ£€æŸ¥ï¼ˆå¦‚æœ‰é…ç½®ï¼‰
npm run lint
npm run format
npm run type-check
```

---

## ğŸ” å®‰å…¨ä¸åˆè§„æ¸…å•
- **ç¯å¢ƒå˜é‡**ï¼š`.env*` ä¸å…¥åº“ï¼Œä»… `.env.example` æç¤ºå­—æ®µï¼›  
- **RLS**ï¼šå¼ºåˆ¶æŒ‰ç”¨æˆ·éš”ç¦»æ•°æ®è¡Œï¼›  
- **è¾“å…¥æ ¡éªŒ & XSS é˜²æŠ¤**ï¼šå‰åç«¯åŒæ—¶å¤„ç†ï¼›  
- **æœ€å°æƒé™**ï¼šä»…æš´éœ²å¿…è¦çš„ `select/insert/update/delete`ï¼›  
- **å¯†é’¥è½®æ¢**ï¼šè‹¥æ›¾è¯¯æäº¤å¯†é’¥ï¼Œè¯·ç«‹åˆ»åœ¨ Supabase åå°æ—‹è½¬ anon keyã€‚  

---

## â˜ï¸ éƒ¨ç½²æŒ‡å¼•
### é™æ€å‰ç«¯
- **Vercel / Netlify / Cloudflare Pages / Nginx**ï¼šä¸Šä¼  `dist/` æˆ–æ¥å…¥ä»“åº“è‡ªåŠ¨æ„å»ºï¼›  
- åœ¨å¹³å°ç¯å¢ƒå˜é‡é¢æ¿é…ç½®ï¼š  
  - `VITE_SUPABASE_URL`  
  - `VITE_SUPABASE_ANON_KEY`

### æ•°æ®åº“ä¸é‰´æƒ
- ç”± Supabase æ‰˜ç®¡ï¼ˆæ— éœ€è‡ªå»ºåå°ï¼‰ï¼Œä¿ç•™ SQL/ç­–ç•¥æ–‡ä»¶äº `docs/db/` ä¾¿äºå®¡è®¡ä¸å¤åˆ¶ã€‚

### GitHub Pagesï¼ˆå¯é€‰ï¼‰
- è‹¥é€‰æ‹© GH Pagesï¼Œè¯·ä½¿ç”¨å•ç‹¬çš„ `gh-pages` åˆ†æ”¯æ¨é€ `dist/` äº§ç‰©ï¼ˆmain åˆ†æ”¯æ— éœ€å« `dist/`ï¼‰ã€‚

---

## ğŸ—ºï¸ Roadmap
- ç”˜ç‰¹å›¾æ¨¡å—å®Œå–„ï¼ˆä¾èµ–/å…³é”®è·¯å¾„/æ‹–æ‹½ç¼–è¾‘ï¼‰  
- è§’è‰²ä¸æƒé™ï¼ˆOwner/Editor/Viewerï¼‰  
- æ´»åŠ¨å®¡è®¡é¢æ¿ï¼ˆåŸºäº `task_history`ï¼‰

---

## ğŸ¤ è´¡çŒ®
æ¬¢è¿è´¡çŒ®ä»£ç ï¼æµç¨‹ï¼šFork â†’ æ–°åˆ†æ”¯ â†’ æäº¤ â†’ PRã€‚

---

## ğŸ“„ è®¸å¯è¯
MIT

---

## ğŸ“ è”ç³»æ–¹å¼
- ç»´æŠ¤è€…ï¼š<Lou Yu>  
- é‚®ç®±ï¼š<250477007@qq.com>  
- é¡¹ç›®åœ°å€ï¼š<https://github.com/your-username/project-management-tool>
